<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENT Endoscopy System</title>
    <link rel="icon" href="image/ent-logo.webp">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="./style/index.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>ENT Endoscopy Results</h1>
            <div id="connectionStatus" class="connection-status online" title="Checking connection..."></div>
            <div class="theme-switch-wrapper">
                <button id="installAppBtn" type="button">⬇️ Install App</button>
                <label class="theme-switch" for="theme-toggle">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
    </div>
    <main class="main-content">

        <section class="card-section">
            <h2><i class="icon-add"></i> Create a New Report</h2>
            <div class="card-container">
                <a href="nasalEndoscopy.html" class="card">
                    <h3>Nasal Endoscopy</h3>
                    <p>Create a new report for a nasal endoscopy procedure.</p>
                </a>
                <a href="laryngealEndoscopy.html" class="card">
                    <h3>Laryngeal Endoscopy</h3>
                    <p>Create a new report for a laryngeal endoscopy procedure.</p>
                </a>
            </div>
        </section>

        <section class="card-section settings-section">
            <div class="card-container">
                <a href="settings.html" class="card settings-card" id="settingsLink">
                    <h3><i class="icon-settings"></i> Settings</h3>
                    <p>Configure clinic details and other application settings.</p>
                </a>
                <div class="card" id="videoTestBtn" style="cursor: pointer;">
                    <h3><i class="icon-video"></i> Video Test</h3>
                    <p>Troubleshoot black screen issues (Canvas Mode).</p>
                </div>
            </div>
        </section>
    </main>

    <div id="installModal" class="modal-overlay" style="display:none; z-index: 10002;">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <div style="margin-bottom: 15px;">
                <img src="image/ent-logo.webp" alt="App Icon" style="width: 80px; height: 80px; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
            </div>
            <h2 style="margin-top: 0; color: var(--primary-color);">Install App</h2>
            <p style="margin-bottom: 20px; color: var(--text-color);">Install the ENT Endoscopy System on your device for quick access and offline use.</p>
            <div class="actions" style="border-top: none; padding-top: 10px; justify-content: center;">
                <button id="confirmInstallBtn">Install Now</button>
                <button id="cancelInstallBtn" class="btn-secondary">Maybe Later</button>
            </div>
        </div>
    </div>

    <div id="messageModal" class="modal-overlay" style="display:none; z-index: 10005;">
        <div class="modal-content" style="max-width: 400px; padding: 0; overflow: hidden; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
            <div class="modal-header" style="background: var(--primary-color); color: white; padding: 15px; font-weight: bold; font-size: 1.1em; text-align: left;">
                <span id="msgModalTitle">Notification</span>
            </div>
            <div class="modal-body" style="padding: 25px 20px; color: var(--text-color); font-size: 1.05em;">
                <p id="msgModalText" style="margin: 0; line-height: 1.5;"></p>
            </div>
            <div class="modal-footer" style="padding: 15px; background: var(--bg-color); border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 10px;">
                <button id="msgModalCancelBtn" class="btn-secondary" style="display: none;">Cancel</button>
                <button id="msgModalOkBtn" style="background: linear-gradient(135deg, var(--primary-color), var(--primary-hover-color));">OK</button>
            </div>
        </div>
    </div>

    <script src="function/index.js"></script>
</body>
</html>
